(window.webpackJsonp=window.webpackJsonp||[]).push([["widget-toptoolbar"],{"+GaQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI");function a(e){return e.map?i.Children.toArray(e.children).map(e.map):e.children}},"/5ju":function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),a=n("UJLt"),o=n("hkLy"),r=n("zUrt"),s=n("Kxc7"),l=n("hY0g"),c=n.n(l),u=n("oOPW"),d=function(e){function t(t,n){return e.call(this,t,n,"AUTO_SAVE_ENABLED_CHANGED","Chart.autoSaveEnabled",!0)||this}return Object(i.__extends)(t,e),t}(n("ulZB").b),h=n("FBuY"),v=n("Vdly"),_=n("FQhm"),f=n("aIyQ"),p=n.n(f),m=function(){function e(e,t,n){this._hasChanges=!1,this._undoHistory=e,this._chartSaver=t,this._globalEvents=n,this._onValueChanged=new p.a,this._subscribe()}return e.prototype.destroy=function(){this._unsubscribe(),this._onValueChanged.destroy()},e.prototype.hasChanges=function(){return this._hasChanges},e.prototype.getOnChange=function(){return this._onValueChanged},e.prototype._subscribe=function(){this._globalEvents.subscribe("chart_loaded",this._handleChartLoaded,this),this._undoHistory.undoStack().onChange().subscribe(this,this._handleChangeUndoStack),this._chartSaver.chartSaved().subscribe(this,this._handleChartSaved)},e.prototype._unsubscribe=function(){this._globalEvents.unsubscribe("chart_loaded",this._handleChartLoaded,this),this._undoHistory.undoStack().onChange().unsubscribe(this,this._handleChangeUndoStack),this._chartSaver.chartSaved().unsubscribe(this,this._handleChartSaved)},e.prototype._setChanges=function(e){this._hasChanges!==e&&(this._hasChanges=e,this._onValueChanged.fire(e))},e.prototype._handleChartLoaded=function(){this._setChanges(!1)},e.prototype._handleChangeUndoStack=function(e){e&&!e.customFlag("doesnt_affect_save")&&this._setChanges(!0)},e.prototype._handleChartSaved=function(e){e&&this._setChanges(!1)},e}(),b=n("/z0S"),S=n("BxxN"),g=n("h4Fc");n.d(t,"SaveChartService",(function(){return A}));var y={labelName:window.t("Chart layout name"),labelRename:window.t("Enter a new chart layout name"),error:window.t("Please enter chart layout name"),titleNew:window.t("Save New Chart Layout"),titleRename:window.t("Rename Chart Layout"),titleCopy:window.t("Copy Chart Layout"),valueCopy:window.t("{0} copy",{context:"ex: AAPL chart copy"})};function C(e,t,n,r){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s;return Object(i.__generator)(this,(function(i){return s=new a.SaveRenameDialog({fields:[new o.InputField({name:"chart-title",label:e+":",error:t,maxLength:64})],title:n}),void 0!==r&&s.setField("chart-title",r),[2,s.show().then((function(e){return e["chart-title"]}))]}))}))}function E(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,C(y.labelRename,y.error,y.titleRename,e)]}))}))}function w(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,C(y.labelRename,y.error,y.titleCopy,y.valueCopy.format(e))]}))}))}function O(e){
return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,C(y.labelRename,y.error,y.titleNew,e)]}))}))}function T(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e){s.enabled("saved_charts_count_restriction")&&window.is_authenticated&&!window.user.is_pro?r.backend.getChartsCount((function(t){e(t<5)})):e(!0)}))]}))}))}var A=function(){function e(e,t){var i=this;this._autosaveTimer=null,this._watchedAutoSaveEnabled=new c.a,this._toggleAutoSaveEnabledHandler=this._toggleAutoSaveEnabled.bind(this),this._chartWidgetCollection=e,this._chartSaver=t,this._autoSaveEnabledSetting=new d(h.TVXWindowEvents,v),this._chartSaver.chartSizeLimitExceeded().subscribe(null,(function(){var e=i._chartWidgetCollection.activeChartWidget.value();Promise.all([n.e("vendors_embed"),n.e("dialogs-core"),n.e(5),n.e(11),n.e(26),n.e(24),n.e("chart-size-limit-exceeded-dialog")]).then(function(t){(0,n("HV9R").showSizeLimitExceededDialog)(e)}.bind(null,n)).catch(void 0)})),this._chartSaver.chartHasBeenModified().subscribe(null,(function(){Promise.all([n.e("vendors_embed"),n.e("dialogs-core"),n.e(5),n.e(11),n.e(26),n.e(24),n.e("chart-has-been-modified-dialog")]).then(function(e){(0,n("Oc7A").showChartHasBeenModifiedDialog)(i._stopAutosave.bind(i),i._startAutosave.bind(i))}.bind(null,n)).catch(void 0)})),this._chartChangesWatcher=new m(e.undoHistory,t,_),e.saveKeysPressed().subscribe(this,this.saveChartOrShowTitleDialog);var a=this._autoSaveEnabledSetting.get();a&&this._enableAutoSave(),this._watchedAutoSaveEnabled.setValue(a),this._watchedAutoSaveEnabled.subscribe(this._toggleAutoSaveEnabledHandler),this._autoSaveEnabledSetting.getOnChange().subscribe(this,this._autoSaveEnabledSettingHandler)}return e.prototype.autoSaveEnabled=function(){return this._watchedAutoSaveEnabled},e.prototype.destroy=function(){this._watchedAutoSaveEnabled.unsubscribe(),delete this._watchedAutoSaveEnabled,this._autoSaveEnabledSetting.destroy(),delete this._autoSaveEnabledSetting},e.prototype.cloneChart=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e=this._chartWidgetCollection,[4,T()];case 1:return n.sent()?[4,w(e.metaInfo.name.value())]:[3,3];case 2:return t=n.sent(),this._saveCurrentChartAsNewWithTitle(t),[3,4];case 3:Object(u.createGoProDialog)({feature:"savedChartsLimit"}),n.label=4;case 4:return[2]}}))}))},e.prototype.saveChartAs=function(){Object(b.a)(this.cloneChart.bind(this),{source:"Clone chart"})},e.prototype.renameChart=function(){var e=this;Object(b.a)((function(){return Object(i.__awaiter)(e,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return e=this._chartWidgetCollection,[4,E(e.metaInfo.name.value())];case 1:return t=n.sent(),e.metaInfo.name.setValue(t),this._doSave(),[2]}}))}))}),{source:"Rename chart"})},e.prototype.saveNewChart=function(e,t,n){
return Object(i.__awaiter)(this,void 0,void 0,(function(){var a,o,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return a=this._chartWidgetCollection,o=a.metaInfo.name.value(),[4,T()];case 1:return i.sent()?[4,O(o)]:[3,3];case 2:return r=i.sent(),a.metaInfo.name.setValue(r),this._doSave(e,t,n),[3,4];case 3:Object(u.createGoProDialog)({feature:"savedChartsLimit"}),i.label=4;case 4:return[2]}}))}))},e.prototype.saveExistentChart=function(e,t,n){this._doSave(e,t,n)},e.prototype.saveChartOrShowTitleDialog=function(e,t,n){var i=this,a=window.saver.isSaveInProcess(),o=this._chartChangesWatcher.hasChanges(),r=!!this._chartWidgetCollection.metaInfo.id.value();window.is_authenticated&&(a||!o&&r)||Object(b.a)((function(){null!=i._chartWidgetCollection.metaInfo.id.value()?i.saveExistentChart(e,t,n):i.saveNewChart(e,t,n)}),{source:"Save chart",sourceMeta:"Chart"})},e.prototype.whenReadyToSave=function(e){this._chartSaver.whenReadyToSave(e)},e.prototype.saveToJSON=function(){return this._chartSaver.saveToJSON()},e.prototype.saveChartSilently=function(e,t,n){this._chartSaver.saveChartSilently(e,t,n)},e.prototype.setAutoSaveEnabled=function(e){var t=this;window.is_authenticated&&window.saver.isSaveInProcess()||Object(b.a)((function(){t._watchedAutoSaveEnabled.setValue(e)}),{source:"AutoSave chart"})},e.prototype._autoSaveEnabledSettingHandler=function(e){this._watchedAutoSaveEnabled.setValue(e)},e.prototype._toggleAutoSaveEnabled=function(e){window.is_authenticated&&(e?this._enableAutoSave():this._disableAutoSave(),this._autoSaveEnabledSetting.set(e,{forceFlush:!0}))},e.prototype._enableAutoSave=function(){this._chartChangesWatcher.getOnChange().subscribe(this,this._onStateChanged),this._chartChangesWatcher.hasChanges()&&this._doSave()},e.prototype._disableAutoSave=function(){this._stopAutosave(),this._chartChangesWatcher.getOnChange().unsubscribeAll(this)},e.prototype._onStateChanged=function(e){e?this._startAutosave():this._stopAutosave()},e.prototype._saveCurrentChartAsNewWithTitle=function(e){var t=this._chartWidgetCollection;s.enabled("saveload_storage_customization")?(t.metaInfo.uid.deleteValue(),t.metaInfo.id.deleteValue(),t.metaInfo.name.setValue(e),this._doSave()):window.open(Object(S.a)({clone:t.metaInfo.uid.value(),name:e}),"_blank")},e.prototype._doSave=function(e,t,n,i){var a=this._chartWidgetCollection;void 0!==e&&e(),this._chartSaver.saveChartSilently((function(e){var n;n=a.metaInfo.uid.value(),"/chart/"===location.pathname&&(location.href="/chart/"+n),void 0!==t&&t(e)}),(function(){void 0!==n&&n()}),{autoSave:Boolean(i)})},e.prototype._startAutosave=function(){var e=this;s.enabled("charts_auto_save")&&null===this._autosaveTimer&&(this._autosaveTimer=setTimeout((function(){e._autosaveTimer=null,window.is_authenticated?e._chartWidgetCollection.metaInfo.id.value()&&e._doSave(void 0,void 0,void 0,!0):e._startAutosave()}),Object(g.a)()))},e.prototype._stopAutosave=function(){null!==this._autosaveTimer&&(clearInterval(this._autosaveTimer),this._autosaveTimer=null)},e}()},"/mDy":function(e,t,n){},
"/z0S":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("Kxc7");function a(e,t){i.enabled("saveload_requires_authentication")?window.runOrSignIn(e,t):e()}},"1TxM":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var i=n("q1tI"),a=n.n(i),o=n("17x9"),r=n.n(o),s=a.a.createContext({});function l(e,t){r.a.checkPropTypes(t,e,"context","RegistryContext")}function c(e){var t=e.validation,n=e.value;return l(n,t),a.a.createElement(s.Provider,{value:n},e.children)}function u(){return s}},"489C":function(e,t,n){"use strict";n.r(t);var i=n("dm8g"),a=n("oOPW"),o=n("NP3r"),r=n("bKsZ");function s(e,t,n){return t.value||Object(o.enabled)(e,n)}function l(e,t,n){switch(e){case r.ProductFeatures.SCREENER_INTERVALS:return function(e,t){var n=Object(o.getConfig)(r.ProductFeatures.SCREENER_INTERVALS,t);return!(!n||!n.interval)&&n.interval.includes(e.interval)}(t,n);case r.ProductFeatures.SCREENER_AUTO_REFRESH:return s(r.ProductFeatures.SCREENER_AUTO_REFRESH,t,n);case r.ProductFeatures.ALERTS_NO_EXPIRATION:return s(r.ProductFeatures.ALERTS_NO_EXPIRATION,t,n);default:return Object(o.enabled)(e,n)}}function c(e,t,n,i){l(t,i)?e():Object(a.createGoProDialog)(n)}function u(e,t,n,a){void 0===a&&(a={}),Object(i.a)("gopro").then((function(){return c(e,t,n,a)}))}n.d(t,"runOrGoProWithoutSync",(function(){return c})),n.d(t,"runOrGoPro",(function(){return u}))},"6aN0":function(e,t,n){e.exports={"css-value-header-toolbar-height":"38px",toolbar:"toolbar-2n2cwgp5",isHidden:"isHidden-GTob3P_C",overflowWrap:"overflowWrap-PWdgT-U_",customButton:"customButton--jqJTfH5",hovered:"hovered-1mGRUp3y"}},"6oLA":function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><g fill="currentColor"><path fill-rule="nonzero" d="M4.034 14.18l-.07-.18.07-.18c1.535-3.975 5.645-6.82 9.966-6.82 4.32 0 8.431 2.845 9.966 6.82l.07.18-.07.18c-1.535 3.975-5.646 6.82-9.966 6.82-4.321 0-8.431-2.845-9.966-6.82zm9.966 5.82c3.84 0 7.521-2.503 8.962-6-1.441-3.497-5.122-6-8.962-6-3.841 0-7.521 2.503-8.962 6 1.441 3.497 5.121 6 8.962 6z"/><path d="M11 14.001c0 1.66 1.341 2.999 3.001 2.999s2.999-1.339 2.999-2.999c0-1.66-1.339-3.001-2.999-3.001-1.66 0-3.001 1.341-3.001 3.001z"/></g></svg>'},"8d0Q":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("q1tI");function a(){var e=Object(i.useState)(!1),t=e[0],n=e[1];return[t,{onMouseOver:function(e){o(e)&&n(!0)},onMouseOut:function(e){o(e)&&n(!1)}}]}function o(e){return!e.currentTarget.contains(e.relatedTarget)}},EA1V:function(e,t,n){"use strict";n.r(t);var i=n("mrSG"),a=(n("P5fv"),n("q1tI")),o=n("TSYQ"),r=n("4O8T"),s=n.n(r),l=n("Kxc7"),c=n("FQhm"),u=n("PoSe"),d=n.n(u),h=n("17x9"),v=n("cvc5"),_=(n("EsMY"),n("+GaQ")),f=n("+GxX"),p=n("KrBX");function m(e){var t,n=e.children,i=e.className,r=e.noLeftDecoration,s=e.noRightDecoration,l=e.noMinimalWidth,c=e.onClick;return a.createElement("div",{className:o(i,p.group,(t={},t[p.noMinimalWidth]=l,
t[p.noLeftDecoration]=r,t[p.noRightDecoration]=s,t)),onClick:c},n)}var b=n("tO+E"),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleMeasure=function(e){var n=e.width;t.props.onWidthChange(n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.shouldMeasure;return a.createElement(v,{shouldMeasure:n,onMeasure:this._handleMeasure,whitelist:["width"]},a.createElement("div",{className:b.wrap},t))},t}(a.PureComponent),g=n("tU7i"),y=n("Opoj");function C(e){return a.createElement(g.b,Object(i.__assign)({},e,{forceInteractive:!0,icon:y}))}n("YFKU");var E=n("Iivm"),w=n("a+Yp"),O=n("6oLA"),T={text:window.t("View Only Mode")};function A(e){return a.createElement("div",{className:w.wrap},a.createElement(E.Icon,{className:w.icon,icon:O}),T.text)}var M,D=n("4Cm8"),I=n("XAms");!function(e){e.SymbolSearch="header-toolbar-symbol-search",e.Intervals="header-toolbar-intervals",e.ChartStyles="header-toolbar-chart-styles",e.Compare="header-toolbar-compare",e.Indicators="header-toolbar-indicators",e.StudyTemplates="header-toolbar-study-templates",e.Alerts="header-toolbar-alerts",e.Layouts="header-toolbar-layouts",e.SaveLoad="header-toolbar-save-load",e.UndoRedo="header-toolbar-undo-redo",e.Properties="header-toolbar-properties",e.PublishDesktop="header-toolbar-publish-desktop",e.PublishMobile="header-toolbar-publish-mobile",e.Fullscreen="header-toolbar-fullscreen",e.Screenshot="header-toolbar-screenshot",e.Replay="header-toolbar-replay",e.Financials="header-toolbar-financials",e.StartTrial="header-toolbar-start-trial"}(M||(M={}));var F=n("8d0Q"),R=n("1TxM"),k=(n("bSeV"),n("JWMC")),W=n("a8bL"),x=Object(f.isFeatureEnabled)("hide-copy-readonly"),V=Object(R.b)(),N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._handleMouseOver=function(e){Object(F.a)(e)&&r.setState({isHovered:!0})},r._handleMouseOut=function(e){Object(F.a)(e)&&r.setState({isHovered:!1})},r._activateSymbolSearchMode=function(){r._setMode(2)},r._activateNormalMode=function(){r._setMode(1)},r._handleInnerResize=function(e){var t=r.props.onWidthChange;t&&t(e)},r._handleMeasureAvailableSpace=function(e){var t=e.width,n=r.props.onAvailableSpaceChange;n&&n(t)},r._processCustoms=function(e){var t=r.props.isFake,n=r.state.mode,s=r.context.tools;return e.map((function(e){return a.createElement(m,{className:o(1!==n&&W.hidden)},a.createElement(s.Custom,Object(i.__assign)({},e,{isFake:t})))}))},r._fixLastGroup=function(e,t,n){if(t===n.length-1&&a.isValidElement(e)&&e.type===m){var i=void 0!==r.context.tools.Publish&&!r.props.readOnly;return a.cloneElement(e,{noRightDecoration:i})}return e},Object(R.c)(n,{tools:h.any.isRequired}),r.state={isHovered:!1,mode:1,isAuthenticated:window.is_authenticated},r}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){window.loginStateChange.subscribe(this,this._onLoginStateChange)},t.prototype.componentWillUnmount=function(){window.loginStateChange.unsubscribe(this,this._onLoginStateChange)},t.prototype.render=function(){
var e,t,n=this.context.tools,r=this.props,s=r.features,l=r.displayMode,c=r.chartSaver,u=r.studyMarket,d=r.readOnly,h=r.saveLoadSyncEmitter,f=r.leftCustomButtons,p=r.rightCustomButtons,b=r.showScrollbarWhen,g=r.width,y=void 0===g?0:g,E=r.isFake,w=void 0!==E&&E,O=this.state,T=O.isHovered,F=O.mode,R=O.isAuthenticated,k=this._processCustoms(f),x=this._processCustoms(p),V=b.includes(l),N=!R&&Boolean(n.StartTrial);return a.createElement("div",{className:o(W.inner,(e={},e[W.fake]=w,e)),onContextMenu:I.b},a.createElement(v,{onMeasure:this._handleMeasureAvailableSpace,whitelist:["width"],shouldMeasure:!w},a.createElement(D.a,{isVisibleFade:Modernizr.mobiletouch&&V,isVisibleButtons:!Modernizr.mobiletouch&&V&&T,isVisibleScrollbar:!1,shouldMeasure:V&&!w,onMouseOver:this._handleMouseOver,onMouseOut:this._handleMouseOut},a.createElement("div",{className:W.content},a.createElement(S,{onWidthChange:this._handleInnerResize,shouldMeasure:w},a.createElement(_.a,{map:this._fixLastGroup},!d&&a.Children.toArray(Object(i.__spreadArrays)([n.SymbolSearch&&a.createElement(m,{key:"symbol",className:2===F&&W.symbolSearch},a.createElement(n.SymbolSearch,{id:w?void 0:M.SymbolSearch,isActionsVisible:s.allowSymbolSearchSpread,isExpanded:2===F,onFocus:this._activateSymbolSearchMode,onBlur:this._activateNormalMode,maxWidth:y})),n.DateRange&&a.createElement(m,{key:"range"},a.createElement(n.DateRange,null)),n.Intervals&&1===F&&a.createElement(m,{key:"intervals"},a.createElement(n.Intervals,{id:w?void 0:M.Intervals,isShownQuicks:s.allowFavoriting,isFavoritingAllowed:s.allowFavoriting,displayMode:l,isFake:w})),n.Bars&&1===F&&a.createElement(m,{key:"styles"},a.createElement(n.Bars,{id:w?void 0:M.ChartStyles,isShownQuicks:s.allowFavoriting,isFavoritingAllowed:s.allowFavoriting,displayMode:l,isFake:w})),n.Compare&&1===F&&a.createElement(m,{key:"compare"},a.createElement(n.Compare,{id:w?void 0:M.Compare,className:W.button,displayMode:l})),n.Indicators&&1===F&&a.createElement(m,{key:"indicators"},a.createElement(n.Indicators,{id:w?void 0:M.Indicators,className:W.button,studyMarket:u,displayMode:l})),n.Financials&&1===F&&a.createElement(m,{key:"financials"},a.createElement(n.Financials,{id:w?void 0:M.Financials,className:W.button,displayMode:l})),n.Templates&&1===F&&a.createElement(m,{key:"templates"},a.createElement(n.Templates,{id:w?void 0:M.StudyTemplates,isShownQuicks:s.allowFavoriting,isFavoritingAllowed:s.allowFavoriting,displayMode:l})),1===F&&n.Alert&&a.createElement(m,{key:"alert"},a.createElement(n.Alert,{id:w?void 0:M.Alerts,className:W.button,displayMode:l})),1===F&&n.AlertReferral&&a.createElement(m,{key:"alert-referral"},a.createElement(n.AlertReferral,{className:W.button,displayMode:l})),n.Replay&&1===F&&a.createElement(m,{key:"replay"},a.createElement(n.Replay,{id:w?void 0:M.Replay,className:W.button,displayMode:l})),n.UndoRedo&&1===F&&a.createElement(m,{key:"undo-redo"},a.createElement(n.UndoRedo,{id:w?void 0:M.UndoRedo})),n.ScalePercentage&&a.createElement(m,{key:"percentage"
},a.createElement(n.ScalePercentage,null)),n.ScaleLogarithm&&a.createElement(m,{key:"logarithm"},a.createElement(n.ScaleLogarithm,null))],k)),1===F?([(t=a.Children.toArray(Object(i.__spreadArrays)([d&&a.createElement(m,{key:"view-only-badge"},a.createElement(A,null)),a.createElement(m,{key:"gap",className:o(W.fill,w&&W.collapse)}),!d&&n.Layout&&a.createElement(m,{key:"layout"},a.createElement(n.Layout,{id:w?void 0:M.Layouts})),this._isSaveLoadVisible()&&n.SaveLoad&&a.createElement(m,{key:"save-load-right"},a.createElement(n.SaveLoad,{id:w?void 0:M.SaveLoad,chartSaver:c,isReadOnly:d,displayMode:l,isFake:w,stateSyncEmitter:h})),n.SaveLoadReferral&&a.createElement(m,{key:"save-load-referral"},a.createElement(n.SaveLoadReferral,{isReadOnly:d,displayMode:l})),s.showLaunchInPopupButton&&n.OpenPopup&&a.createElement(m,{key:"popup"},a.createElement(n.OpenPopup,null)),!d&&n.Properties&&a.createElement(m,{key:"properties"},a.createElement(n.Properties,{id:w?void 0:M.Properties,className:W.iconButton})),!d&&n.Fullscreen&&a.createElement(m,{key:"fullscreen",onClick:this._trackFullscreenButtonClick},a.createElement(n.Fullscreen,{id:w?void 0:M.Fullscreen})),n.Screenshot&&a.createElement(m,{key:"screenshot"},a.createElement(n.Screenshot,{id:w?void 0:M.Screenshot,className:W.iconButton})),N&&n.StartTrial?a.createElement(m,{key:"start-trial"},a.createElement(n.StartTrial,{id:w?void 0:M.StartTrial})):!d&&n.Publish&&a.createElement(m,{key:"publish",className:W.mobilePublish},a.createElement(n.Publish,{id:w?void 0:M.PublishMobile}))],x))).findIndex((function(e){return a.isValidElement(e)&&!!e.key&&-1!==e.key.toString().indexOf("view-only-badge")}))].filter((function(e){return e>=0})).forEach((function(e){t=a.Children.map(t,(function(t,n){if(a.isValidElement(t))switch([e-1,e,e+1].indexOf(n)){case 0:t=a.cloneElement(t,{noRightDecoration:!0});break;case 1:t=a.cloneElement(t,{noLeftDecoration:!0,noRightDecoration:!0});break;case 2:t=a.cloneElement(t,{noLeftDecoration:!0})}return t}))})),t):[a.createElement(m,{key:"gap",className:o(W.fill,2===F&&W.minimalPriority)}),a.createElement(m,{key:"symbol-search-close"},a.createElement(C,{className:o(W.iconButton,W.symbolSearchClose)}))]))))),n.Publish&&!d&&!w&&!N&&a.createElement(n.Publish,{id:M.PublishDesktop,className:W.desktopPublish}))},t.prototype._onLoginStateChange=function(){this.setState({isAuthenticated:window.is_authenticated})},t.prototype._setMode=function(e){this.setState({mode:e})},t.prototype._trackFullscreenButtonClick=function(){Object(k.trackEvent)("GUI","Chart Header Toolbar","fullscreen")},t.prototype._isSaveLoadVisible=function(){return!(this.props.readOnly&&x)},t.contextType=V,t}(a.PureComponent);var j,P=n("hY0g"),B=n.n(P),L=n("ulZB"),H=function(e){function t(t,n,i){return void 0===i&&(i=[]),e.call(this,t,n,"FAVORITE_CHART_STYLES_CHANGED","StyleWidget.quicks",i)||this}return Object(i.__extends)(t,e),t}(L.b),z=n("pPtI"),G=n("IVMC"),U=n.n(G),K=function(e){function t(t,n,i){return e.call(this,t,n,"FAVORITE_INTERVALS_CHANGED","IntervalWidget.quicks",i)||this}
return Object(i.__extends)(t,e),t.prototype._serialize=function(e){return U()(e.map(z.normalizeIntervalString))},t.prototype._deserialize=function(e){return U()(Object(z.convertResolutionsFromSettings)(e).filter(z.isResolutionMultiplierValid).map(z.normalizeIntervalString))},t}(L.a),Y=n("2vAl"),X=n.n(Y),J=n("bKsZ"),Q=n("489C"),q=function(e){function t(t,n,i){return void 0===i&&(i=[]),e.call(this,t,n,"CUSTOM_INTERVALS_CHANGED","IntervalWidget.intervals",i)||this}return Object(i.__extends)(t,e),t.prototype.set=function(t,n){var i=this;X()("customIntervals"),t.length<this.get().length?e.prototype.set.call(this,t,n):Object(Q.runOrGoPro)((function(){return e.prototype.set.call(i,t,n)}),J.ProductFeatures.CUSTOM_INTERVALS,{feature:"customIntervals"})},t.prototype._serialize=function(e){return U()(e.map(z.normalizeIntervalString))},t.prototype._deserialize=function(e){return U()(Object(z.convertResolutionsFromSettings)(e).filter(z.isResolutionMultiplierValid).map(z.normalizeIntervalString))},t}(L.a),Z=n("FBuY"),ee=n("Vdly"),te=n("yMne"),ne=n("Eyy1"),ie=n("LiyS"),ae=n("LxhU"),oe=((j={})[ae.ResolutionKind.Seconds]=!1,j[ae.ResolutionKind.Minutes]=!1,j[ae.SpecialResolutionKind.Hours]=!1,j[ae.ResolutionKind.Days]=!1,j[ae.ResolutionKind.Range]=!1,j),re=function(e){function t(t,n,i){return void 0===i&&(i=oe),e.call(this,t,n,"INTERVALS_MENU_VIEW_STATE_CHANGED","IntervalWidget.menu.viewState",i)||this}return Object(i.__extends)(t,e),t.prototype.isAllowed=function(e){return Object.keys(oe).includes(e)},t}(L.b),se={defaultsCollapsed:!1},le=function(e){function t(t,n,i){return void 0===i&&(i=se),e.call(this,t,n,"TEMPLATES_MENU_VIEW_STATE_CHANGED","TemplatesWidget.menu.viewState",i)||this}return Object(i.__extends)(t,e),t}(L.b),ce={tools:h.any.isRequired,isFundamental:h.any,chartApiInstance:h.any,availableTimeFrames:h.any,chartWidgetCollection:h.any,windowMessageService:h.any,favoriteChartStylesService:h.any,favoriteIntervalsService:h.any,customIntervalsService:h.any,favoriteStudyTemplatesService:h.any,studyTemplates:h.any,chartChangesWatcher:h.any,saveChartService:h.any,sharingChartService:h.any,loadChartService:h.any,chartWidget:h.any,favoriteScriptsModel:h.any,intervalsMenuViewStateService:h.any,templatesMenuViewStateService:h.any,financialsDialogController:h.any},ue=n("6aN0");n.d(t,"HeaderToolbar",(function(){return fe}));var de={Area:3,Bars:0,Candles:1,"Heiken Ashi":8,"Hollow Candles":9,Line:2},he=["1","30","60"];var ve=[],_e=["full","medium"],fe=function(e){function t(t){var n,i=e.call(this,t)||this;i._saveLoadSyncEmitter=new s.a,i._handleFullWidthChange=function(e){i._fullWidth=e,i.setState({measureValid:!1})},i._handleFavoritesWidthChange=function(e){i._favoritesWidth=e,i.setState({measureValid:!1})},i._handleCollapseWidthChange=function(e){i._collapseWidth=e,i.setState({measureValid:!1})},i._handleMeasure=function(e){i.setState({availableWidth:e,measureValid:!1})}
;var a=t.tools,o=t.windowMessageService,r=t.chartWidgetCollection,c=t.chartApiInstance,u=t.availableTimeFrames,h=t.isFundamental,v=t.favoriteStudyTemplatesService,_=t.studyTemplates,f=t.saveChartService,p=t.sharingChartService,m=t.loadChartService,b=t.financialsDialogController;i._showScrollbarWhen=Object(ne.ensureDefined)(t.allowedModes).slice(-1),i._panelWidthChangeHandlers=((n={}).full=i._handleFullWidthChange,n.medium=i._handleFavoritesWidthChange,n.small=i._handleCollapseWidthChange,n);var S=t.chartChangesWatcher;i._chartChangesWatcher=S;var g=function(e){void 0===e&&(e=[]);var t=e.map((function(e){return de[e]}))||[1,4,5,6];return l.enabled("widget")&&(t=[0,1,3]),t}(i.props.defaultFavoriteStyles);i._favoriteChartStylesService=new H(Z.TVXWindowEvents,ee,g);var y,C=(void 0===(y=i.props.defaultFavoriteIntervals)&&(y=[]),Object(z.mergeResolutions)(y,l.enabled("star_some_intervals_by_default")?he:[]));return i._favoriteIntervalsService=new K(Z.TVXWindowEvents,ee,C),i._intervalsMenuViewStateService=new re(Z.TVXWindowEvents,ee),i._customIntervalsService=new q(Z.TVXWindowEvents,ee),i._templatesMenuVuewStateService=new le(Z.TVXWindowEvents,ee),i._registry={tools:a,isFundamental:h,chartWidgetCollection:r,windowMessageService:o,chartApiInstance:c,availableTimeFrames:u,favoriteStudyTemplatesService:v,studyTemplates:_,saveChartService:f,sharingChartService:p,loadChartService:m,intervalsMenuViewStateService:i._intervalsMenuViewStateService,favoriteChartStylesService:i._favoriteChartStylesService,favoriteIntervalsService:i._favoriteIntervalsService,customIntervalsService:i._customIntervalsService,chartChangesWatcher:i._chartChangesWatcher,chartWidget:r.activeChartWidget.value(),favoriteScriptsModel:ie.FavoriteScriptsModel.getInstance(),templatesMenuViewStateService:i._templatesMenuVuewStateService,financialsDialogController:b},i.state={isVisible:!0,availableWidth:0,displayMode:"full",measureValid:!1,leftCustomButtons:[],rightCustomButtons:[]},i._readOnly=r.readOnly(),i._features={allowFavoriting:l.enabled("items_favoriting"),showIdeasButton:Boolean(i.props.ideas),showLaunchInPopupButton:Boolean(i.props.popupButton),allowSymbolSearchSpread:l.enabled("header_symbol_search")&&!l.enabled("charting_library_base"),allowToolbarHiding:l.enabled("collapsible_header")},i._setDisplayMode=d()(i._setDisplayMode,100),i._negotiateResizer(),i}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state,i=n.isVisible,a=n.measureValid;i!==t.isVisible&&(c.emit("toggle_header",i),this._negotiateResizer()),a||this._setDisplayMode()},t.prototype.render=function(){var e,t=this,n=this.props,r=(n.resizerBridge,n.allowedModes),s=Object(i.__rest)(n,["resizerBridge","allowedModes"]),l=this.state,c=l.displayMode,u=l.availableWidth,d=l.isVisible,h=l.leftCustomButtons,v=l.rightCustomButtons,_=Object(i.__assign)({features:this._features,readOnly:this._readOnly,isFake:!1,saveLoadSyncEmitter:this._saveLoadSyncEmitter,width:u,leftCustomButtons:h,rightCustomButtons:v},s),f=Object(i.__assign)(Object(i.__assign)({},_),{isFake:!0,
showScrollbarWhen:ve}),p=Object(ne.ensureDefined)(r),m=this.props.tools.PublishButtonManager||a.Fragment;return a.createElement(R.a,{value:this._registry,validation:ce},a.createElement(m,null,a.createElement("div",{className:o(ue.toolbar,(e={},e[ue.isHidden]=!d,e)),onClick:this.props.onClick},a.createElement("div",{className:ue.overflowWrap},a.createElement(N,Object(i.__assign)({key:"live",showScrollbarWhen:this._showScrollbarWhen,displayMode:c,onAvailableSpaceChange:this._handleMeasure},_)),p.map((function(e){return a.createElement(N,Object(i.__assign)({key:e,displayMode:e,onWidthChange:t._panelWidthChangeHandlers[e]},f))}))))))},t.prototype.addButton=function(e){void 0===e&&(e="left");var t=new B.a(0),n=$('<div class="apply-common-tooltip '+ue.customButton+'">')[0],a={key:Number(new Date),element:n,width:t},o=this.state,r=o.leftCustomButtons,s=o.rightCustomButtons;return"left"===e?this.setState({leftCustomButtons:Object(i.__spreadArrays)(r,[a])}):this.setState({rightCustomButtons:Object(i.__spreadArrays)(s,[a])}),n},t.prototype._negotiateResizer=function(){this.props.resizerBridge.negotiateHeight(this.state.isVisible?te.HEADER_TOOLBAR_HEIGHT_EXPANDED:te.HEADER_TOOLBAR_HEIGHT_COLLAPSED)},t.prototype._setDisplayMode=function(){var e,t=this.state.availableWidth,n=this.props.allowedModes,i=((e={}).full=this._fullWidth,e.medium=this._favoritesWidth,e.small=this._collapseWidth,e),a=Object(ne.ensureDefined)(n),o=a.map((function(e){return i[e]})).findIndex((function(e){return t>=e}));-1===o&&(o=a.length-1);var r=a[o];this.setState({measureValid:!0,displayMode:r})},t.defaultProps={allowedModes:_e},t}(a.PureComponent)},J2xC:function(e,t,n){e.exports={"css-value-header-toolbar-height":"38px"}},KrBX:function(e,t,n){e.exports={group:"group-wWM3zP_M",noLeftDecoration:"noLeftDecoration-15F5a1TB",noRightDecoration:"noRightDecoration-2GcAAgVb",noMinimalWidth:"noMinimalWidth-1sbl_ff5"}},LiyS:function(e,t,n){"use strict";n.r(t),n.d(t,"FavoriteScriptsModel",(function(){return h}));var i=n("Vdly"),a=n("FBuY"),o=n("cBZt"),r=n("TcSq"),s=n("upcD"),l=n("aIyQ"),c=n.n(l),u=s,d=null,h=function(){function e(e){var t=this;void 0===e&&(e=i),this._favorites=[],this._favoritesChanged=new c.a,this._settings=e,a.TVXWindowEvents.on("StudyFavoritesChanged",(function(e){var n=JSON.parse(e);t._loadFromState(n.favorites||[])})),this._settings.onSync.subscribe(this,this._loadFavs),this._loadFavs()}return e.prototype.isFav=function(e){var t=this.favId(e);return-1!==this._findFavIndex(t)},e.prototype.toggleFavorite=function(e){this.isFav(e)?this.removeFavorite(e):this.addFavorite(e)},e.prototype.addFavorite=function(e){var t=this.favId(e);this._favorites.push(_(t)),this._favoritesChanged.fire(),this._saveFavs()},e.prototype.removeFavorite=function(e){var t=this.favId(e),n=this._findFavIndex(t);-1!==n&&(this._favorites.splice(n,1),this._favoritesChanged.fire()),this._saveFavs()},e.prototype.favId=function(e){return Object(r.isPineIdString)(e)?e:Object(r.extractPineId)(e)||Object(o.extractStudyId)(e)},e.prototype.favorites=function(){return this._favorites},
e.prototype.favoritePineIds=function(){return this._favorites.filter((function(e){return"pine"===e.type})).map((function(e){return e.pineId}))},e.prototype.favoritesChanged=function(){return this._favoritesChanged},e.getInstance=function(){return null===d&&(d=new e),d},e.create=function(t){return new e(t)},e.prototype._loadFavs=function(){var e=this._settings.getJSON("studyMarket.favorites",[]);this._loadFromState(e)},e.prototype._saveFavs=function(){var e=this._stateToSave();this._settings.setJSON("studyMarket.favorites",e),a.TVXWindowEvents.emit("StudyFavoritesChanged",JSON.stringify({favorites:e}))},e.prototype._stateToSave=function(){return this._favorites.map(v)},e.prototype._loadFromState=function(e){this._favorites=e.map((function(e){return _(function(e){return e in u?u[e]:e}(e))})),this._favoritesChanged.fire()},e.prototype._findFavIndex=function(e){return this._favorites.findIndex((function(t){return e===v(t)}))},e}();function v(e){return"java"===e.type?e.studyId:e.pineId}function _(e){return Object(r.isPineIdString)(e)?{type:"pine",pineId:e}:{type:"java",studyId:e}}},Opoj:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17"><path fill="none" stroke="currentColor" d="M1 1l15 15M1 16L16 1"/></svg>'},UJLt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SaveRenameDialog=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("/mDy");var a=n("oNDq");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="yes",s="close";t.SaveRenameDialog=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fields,i=t.confirm,a=t.manager,r=t.title,s=void 0===r?"":r,l=t.destroyOnClose,c=void 0===l||l,u=t.modal,d=void 0!==u&&u;o(this,e),this._form=document.createElement("div"),this._fields=n,this._appendFieldsToForm(),this._title=s,this._destroyOnClose=c,this._modal=d,this._manager=a,this._isConfirmDialogOpened=!1,i&&(this._needCheckConfirm=!0,this._shouldShowConfirm=i.shouldShowDialog,this._getConfirmMessage=i.getMessage)}return i(e,[{key:"setField",value:function(e,t){this._fields.find((function(t){return t.name===e})).value=t}},{key:"show",value:function(){var e=this,t=this._createDialog();return new Promise((function(n){t.then((function(t){t.on("action:submit",(function(t){return e._onSubmit(t,n)})),t.open(),t.on("beforeClose",e._unmountFields.bind(e)),e._fields[0].select()}))}))}},{key:"_appendFieldsToForm",value:function(){var e=this;this._fields.forEach((function(t){t.appendTo(e._form)}))}},{key:"_createDialog",value:function(){var e=this;return new Promise((function(t){Promise.all([n.e("vendors_embed"),n.e("dialogs-core"),n.e(5),n.e(11),n.e(14),n.e(26),n.e(17),n.e(24),n.e(203),n.e("create-dialog")]).then(function(i){var a=n("YDhE").createDialog;t(a({
type:e._modal?"modal":"popup",title:e._title,content:$(e._form),actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions i-align_right tv-dialog__section--no-border">',width:470,destroyOnClose:e._destroyOnClose,manager:e._manager,isClickOutFn:function(){if(e._isConfirmDialogOpened)return!1},actions:[{name:"submit",type:"primary",text:window.t("Save"),key:13,addClass:"js-submit-button"},{name:"cancel",type:"default",text:window.t("Cancel"),method:"close",addClass:"js-cancel-button"}]}))}.bind(null,n)).catch(n.oe)}))}},{key:"_onSubmit",value:function(e,t){var n=this,i=this._validate();if(i)e.error(i.error),i.focus();else{if(!this._needCheckConfirm)return t(this._collectValues(),e),void e.close();Promise.resolve(this._shouldShowConfirm(this._collectValues())).then((function(i){if(!i)return t(n._collectValues(),e),void e.close();n._showConfirmDialog().then((function(i){i===s&&(e.focus(),n._fields[0].focus()),i===r&&(t(n._collectValues(),e),e.close())}))}))}}},{key:"_showConfirmDialog",value:function(){var e=this;return new Promise((function(t){Promise.resolve(e._getConfirmMessage(e._collectValues())).then((function(n){e._isConfirmDialogOpened=!0,(0,a.createConfirmDialog)({type:"modal",content:document.createTextNode(n),manager:e._manager}).then((function(n){n.on("action:yes",(function(e){t(r),e.close()})),n.on("afterClose",(function(){t(s),e._isConfirmDialogOpened=!1})),n.open()}))}))}))}},{key:"_validate",value:function(){return this._fields.find((function(e){return!e.valid}))}},{key:"_collectValues",value:function(){return this._fields.reduce((function(e,t){return e[t.name]=t.value,e}),{})}},{key:"_unmountFields",value:function(){this._fields.forEach((function(e){e.unmount&&e.unmount()}))}}]),e}()},Vike:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'},"a+Yp":function(e,t,n){e.exports={wrap:"wrap-3K4w_7te",icon:"icon-1dNdRXKB"}},a8bL:function(e,t,n){e.exports={"css-value-header-toolbar-height":"38px",inner:"inner-v8eiKwdM",fake:"fake-37paHC6T",fill:"fill-2axUON87",minimalPriority:"minimalPriority-1MGEuVHu",collapse:"collapse-17ig2Mxu",button:"button-3xrjDzA4",iconButton:"iconButton-3vyD3BPg",hidden:"hidden-2kSvETGo",symbolSearch:"symbolSearch-3I4QF1U_",symbolSearchClose:"symbolSearchClose-3QSRPDvy",content:"content-3mgFz85m",desktopPublish:"desktopPublish-3xVralL7",mobilePublish:"mobilePublish-v3HVdbH2"}},bQ7Y:function(e,t,n){e.exports={button:"button-2ioYhFEY",hover:"hover-yHQNmTbI",isInteractive:"isInteractive-20uLObIc",isGrouped:"isGrouped-2BBXQnbO",isActive:"isActive-22S-lGpa",isOpened:"isOpened-p-Ume5l9",isDisabled:"isDisabled-1_tmrLfP",text:"text-1sK7vbvh",icon:"icon-beK_KS0k"}},h4Fc:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));n("YFKU"),n("HbRj");var i=n("+GxX");function a(){var e=Math.ceil(o()/6e4);return window.t("Every minute",{plural:"Every {0} minutes",count:e}).format(e)}function o(){
return Object(i.isFeatureEnabled)("chart_autosave_2min")?12e4:Object(i.isFeatureEnabled)("chart_autosave_3min")?18e4:Object(i.isFeatureEnabled)("chart_autosave_5min")?3e5:Object(i.isFeatureEnabled)("chart_autosave_7min")?42e4:Object(i.isFeatureEnabled)("chart_autosave_10min")?6e5:6e4}},hkLy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.InputField=function(){function e(t){var n=t.label,i=t.name,a=t.maxLength,o=t.error,r=void 0===o?"":o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=i,this._field=document.createElement("label"),this._field.classList.add("tv-rename-chart-dialog__field");var s=document.createElement("span");s.classList.add("tv-rename-chart-dialog__label"),s.innerHTML=n,this._inputElement=document.createElement("input"),this._inputElement.classList.add("tv-control-input"),this._inputElement.setAttribute("type","text"),this._inputElement.setAttribute("name",i),this._inputElement.setAttribute("maxlength",a),this._field.appendChild(s),this._field.appendChild(this._inputElement),this._error=r}return i(e,[{key:"appendTo",value:function(e){e.appendChild(this._field)}},{key:"focus",value:function(){this._inputElement.focus()}},{key:"select",value:function(){this.focus(),this._inputElement.select()}},{key:"value",set:function(e){this._inputElement.value=e},get:function(){return this._inputElement.value}},{key:"name",get:function(){return this._name}},{key:"valid",get:function(){return!!this._inputElement.value.trim()}},{key:"error",set:function(e){this._error=e},get:function(){return this._error}}]),e}()},lA7n:function(e,t,n){"use strict";n.r(t);var i=n("Kxc7"),a=n("mrSG"),o=function(e){function t(t,n){return e.call(this,t,n,"FAVORITE_CHARTS_CHANGED","loadChartDialog.favorites",{})||this}return Object(a.__extends)(t,e),t}(n("ulZB").b),r=n("zUrt"),s=n("FBuY"),l=n("Vdly"),c=n("/z0S");n.d(t,"LoadChartService",(function(){return u}));var u=function(){function e(e){var t=this;void 0===e&&(e=null),this._favoriteChartsService=new o(s.TVXWindowEvents,l),this._chartWidgetCollection=null,this._promise=null,this._getChartEntry=function(e){return{id:e.id,url:e.url,title:e.name,symbol:e.short_symbol,interval:e.interval,toolsCount:0,modified:e.modified_iso,active:function(){return t._isActiveChart(e.id)},openAction:function(){return r.backend.loadChart(e)},deleteAction:function(){return new Promise((function(n){r.backend.removeChart(e.image_url,(function(){t._deleteChart(e.id),n()}))}))},favoriteAction:t._updateFavorites}},this._updateFavorites=function(e){return t._favoriteChartsService.set(e)},this._isActiveChart=function(e){return null!==t._chartWidgetCollection&&e===t._chartWidgetCollection.metaInfo.id.value()},this._deleteChart=function(e){
t._isActiveChart(e)&&(i.enabled("saveload_storage_customization")?null!==t._chartWidgetCollection&&t._chartWidgetCollection.clearChartMetaInfo():location.href="/chart/"+location.search)},this._chartWidgetCollection=e}return e.prototype.showLoadDialog=function(){Object(c.a)(this._showLoadDialog.bind(this),{source:"Load chart",sourceMeta:"Chart"})},e.prototype._showLoadDialog=function(){var e=this;(i.enabled("saveload_requires_authentication")&&!window.is_authenticated?Promise.resolve([]):new Promise((function(e){r.backend.getCharts((function(t){e(t)}))}))).then((function(t){return t.map(e._getChartEntry)})).then((function(t){var i=e._promise=Promise.all([n.e("vendors_embed"),n.e(1),n.e(2),n.e(4),n.e(6),n.e(8),n.e(12),n.e(20),n.e(21),n.e(22),n.e(29),n.e(40),n.e(52),n.e(53),n.e(61),n.e(127),n.e(164),n.e(215),n.e(357),n.e(7),n.e(9),n.e(28),n.e(32),n.e(55),n.e(141),n.e(180),n.e("load-chart-dialog")]).then(n.bind(null,"AMW5")).then((function(n){e._promise===i&&n.showLoadChartDialog(t,e._favoriteChartsService,e._chartWidgetCollection)}))}))},e}()},"tO+E":function(e,t,n){e.exports={"css-value-header-toolbar-height":"38px",wrap:"wrap-3tiHesTk"}},tU7i:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("mrSG"),a=n("q1tI"),o=n("TSYQ"),r=n("Iivm"),s=n("bQ7Y"),l=s,c=a.forwardRef((function(e,t){var n,l=e.icon,c=e.isActive,u=e.isOpened,d=e.isDisabled,h=e.isGrouped,v=e.isHovered,_=e.onClick,f=e.text,p=e.textBeforeIcon,m=e.title,b=e.theme,S=void 0===b?s:b,g=e.className,y=e.forceInteractive,C=Object(i.__rest)(e,["icon","isActive","isOpened","isDisabled","isGrouped","isHovered","onClick","text","textBeforeIcon","title","theme","className","forceInteractive"]),E=o(g,S.button,m&&"apply-common-tooltip",((n={})[S.isActive]=c,n[S.isOpened]=u,n[S.isInteractive]=(y||Boolean(_))&&!d,n[S.isDisabled]=d,n[S.isGrouped]=h,n[S.hover]=v,n)),w=l&&("string"==typeof l?a.createElement(r.Icon,{className:S.icon,icon:l}):a.cloneElement(l,{className:o(S.icon,l.props.className)}));return a.createElement("div",Object(i.__assign)({},C,{ref:t,"data-role":"button",className:E,onClick:d?void 0:_,title:m}),p&&f&&a.createElement("div",{className:o("js-button-text",S.text)},f),w,!p&&f&&a.createElement("div",{className:o("js-button-text",S.text)},f))}))},ulZB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var i=n("mrSG"),a=n("aIyQ"),o=n.n(a),r=function(){function e(e,t,n,i,a){var r=this;this._onChange=new o.a,this._handleChange=function(){r._onChange.fire(r.get())},this._crossTabEvents=e,this._jsonKeyValueStore=t,this.CROSSTAB_EVENT_NAME=n,this.JSON_STORE_KEY=i,this.defaultStoreValue=this._serialize(a),this._subscribe()}return e.prototype.get=function(){var e=this._jsonKeyValueStore.getJSON(this.JSON_STORE_KEY,this.defaultStoreValue);return this._deserialize(e)},e.prototype.set=function(e,t){var n=this._serialize(e);this._jsonKeyValueStore.setJSON(this.JSON_STORE_KEY,n,t),this._crossTabEvents.emit(this.CROSSTAB_EVENT_NAME),this._onChange.fire(e)},
e.prototype.getOnChange=function(){return this._onChange},e.prototype.destroy=function(){this._unsubscribe(),this._onChange.destroy(),delete this._onChange},e.prototype._subscribe=function(){this._crossTabEvents.on(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.subscribe(this,this._handleChange)},e.prototype._unsubscribe=function(){this._crossTabEvents.off(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.unsubscribe(this,this._handleChange)},e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype._serialize=function(e){return e},t.prototype._deserialize=function(e){return e},t}(r)},upcD:function(e){e.exports=JSON.parse('{"ACCD@tv-basicstudies":"STD;Accumulation_Distribution","studyADR@tv-basicstudies":"STD;Advance_Decline_Ratio_Bars","AROON@tv-basicstudies":"STD;Aroon","ATR@tv-basicstudies":"STD;Average_True_Range","AwesomeOscillator@tv-basicstudies":"STD;Awesome_Oscillator","BB@tv-basicstudies":"STD;Bollinger_Bands","BollingerBandsR@tv-basicstudies":"STD;Bollinger_Bands_B","BollingerBandsWidth@tv-basicstudies":"STD;Bollinger_Bands_Width","CMF@tv-basicstudies":"STD;Chaikin_Money_Flow","ChaikinOscillator@tv-basicstudies":"STD;Chaikin_Oscillator","ChoppinessIndex@tv-basicstudies":"STD;Choppiness_Index","DoubleEMA@tv-basicstudies":"STD;DEMA","WilliamR@tv-basicstudies":"STD;Willams_R","CCI@tv-basicstudies":"STD;CCI","CRSI@tv-basicstudies":"STD;Connors_RSI","DetrendedPriceOscillator@tv-basicstudies":"STD;DPO","DM@tv-basicstudies":"STD;DMI","DONCH@tv-basicstudies":"STD;Donchian_Channels","EaseOfMovement@tv-basicstudies":"STD;EOM","EFI@tv-basicstudies":"STD;EFI","ENV@tv-basicstudies":"STD;ENV","FisherTransform@tv-basicstudies":"STD;Fisher_Transform","HV@tv-basicstudies":"STD;Historical_Volatility","KLTNR@tv-basicstudies":"STD;Keltner_Channels","MOM@tv-basicstudies":"STD;Momentum","MF@tv-basicstudies":"STD;Money_Flow","UltimateOsc@tv-basicstudies":"STD;Ultimate_Oscillator","Trix@tv-basicstudies":"STD;TRIX","Stochastic@tv-basicstudies":"STD;Stochastic","StochasticRSI@tv-basicstudies":"STD;Stochastic_RSI","RSI@tv-basicstudies":"STD;RSI","ROC@tv-basicstudies":"STD;ROC","PriceOsc@tv-basicstudies":"STD;Price_Oscillator","MASimple@tv-basicstudies":"STD;SMA","OBV@tv-basicstudies":"STD;On_Balance_Volume","PSAR@tv-basicstudies":"STD;PSAR","VigorIndex@tv-basicstudies":"STD;Relative_Vigor_Index","VolatilityIndex@tv-basicstudies":"STD;Relative_Volatility_Index","SMIErgodicIndicator@tv-basicstudies":"STD;SMI_Ergodic_Indicator_Oscillator","SMIErgodicOscillator@tv-basicstudies":"STD;SMI_Ergodic_Oscillator","MACD@tv-basicstudies":"STD;MACD","MAWeighted@tv-basicstudies":"STD;WMA","MAExp@tv-basicstudies":"STD;EMA","hullMA@tv-basicstudies":"STD;Hull%1MA","chandeMO@tv-basicstudies":"STD;Chande_Momentum_Oscillator","TripleEMA@tv-basicstudies":"STD;TEMA","MAVolumeWeighted@tv-basicstudies":"STD;VWMA","WilliamsAlligator@tv-basicstudies":"STD;Williams_Alligator","WilliamsFractal@tv-basicstudies":"STD;Whilliams_Fractals"}')},
yMne:function(e,t,n){"use strict";n.r(t),n.d(t,"HEADER_TOOLBAR_HEIGHT_EXPANDED",(function(){return a})),n.d(t,"HEADER_TOOLBAR_HEIGHT_COLLAPSED",(function(){return o}));var i=n("J2xC"),a=parseInt(i["css-value-header-toolbar-height"]),o=3}}]);